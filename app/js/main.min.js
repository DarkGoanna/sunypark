"use strict";const html=document.documentElement,header=document.querySelector(".header"),headerRow_1=document.querySelector(".header__row_1"),headerRow_2=document.querySelector(".header__row_2"),menu=document.querySelector(".header__menu"),menuList=menu.querySelector(".menu"),burger=document.querySelector(".header__burger"),desktopBreakpoint=768;function addMenuArrow(){menu.querySelectorAll(".menu-item-has-children").forEach(e=>{e.insertAdjacentHTML("beforeend",'<button type="button" class="menu__arrow"></button>')})}function setIterationVar(){menu.querySelectorAll(".menu > li").forEach((e,t)=>{e.style.setProperty("--i",t)})}function addButtonComeback(){document.querySelectorAll(".sub-menu").forEach(e=>{e.insertAdjacentHTML("afterbegin",'<button type="button" class="menu__comeback">Назад</button>')})}function setSubmenuPosition(){document.querySelectorAll(".sub-menu").forEach(e=>{const t=menuList.offsetTop,n=e.parentElement.offsetTop-t;e.style.top=`-${n}px`})}function resetSubmenuPosition(){document.querySelectorAll(".sub-menu").forEach(e=>{e.style.top=""})}function addEventToMenuArrow(){document.querySelectorAll(".menu__arrow").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation(),e.closest(".menu-item-has-children").classList.toggle("open"),window.matchMedia("(max-width: 768px)").matches&&menuList.classList.toggle("show-sub-menu")},!0)})}function addEventToMenuItem(){menu.querySelectorAll(".menu-item-has-children").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("open"),window.matchMedia("(max-width: 768px)").matches&&menuList.classList.toggle("show-sub-menu")},!0)})}function closeAllSubmenu(){menu.querySelectorAll(".menu-item-has-children").forEach(e=>{e.classList.remove("open")}),menu.querySelector(".menu").classList.remove("show-sub-menu")}function fixHeaderHeight(){header.nextElementSibling.style.paddingTop=header.offsetHeight+"px"}burger.addEventListener("click",()=>{burger.classList.toggle("open"),menu.classList.toggle("open"),menuList.classList.remove("show-sub-menu")}),window.addEventListener("resize",()=>{window.innerWidth>768?(burger.classList.remove("open"),menu.classList.remove("open"),closeAllSubmenu(),resetSubmenuPosition()):setSubmenuPosition()}),window.addEventListener("load",()=>{addMenuArrow(),addButtonComeback(),addEventToMenuArrow(),addEventToMenuItem(),setIterationVar(),window.matchMedia("(max-width: 768px)").matches&&setSubmenuPosition()}),window.addEventListener("load",fixHeaderHeight),window.addEventListener("resize",fixHeaderHeight);let prevScrollPosition=window.pageYOffset;function isApple(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}window.addEventListener("scroll",()=>{const e=window.innerWidth>768?headerRow_1.offsetHeight:document.querySelector(".header").offsetHeight,t=window.pageYOffset;prevScrollPosition>t?header.style.top="0":t>400&&(header.style.top=`-${e}px`),prevScrollPosition=t}),window.addEventListener("load",()=>{isApple()&&document.querySelector("html").classList.add("ios")});